{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'SignUp',\n  data() {\n    return {\n      username: '',\n      password: '',\n      timezone: '',\n      flashMessage: '',\n      flashMessageType: '' // 'success', 'error', or 'info'\n    };\n  },\n  methods: {\n    async register() {\n      if (!this.username || !this.password || this.timezone === '') {\n        this.flashMessage = \"All fields are required\";\n        this.flashMessageType = \"error\";\n        return;\n      }\n      try {\n        let result = await this.$axios.post('/register', {\n          username: this.username,\n          password: this.password,\n          timezone: this.timezone\n        });\n        if (result.status == 201) {\n          this.flashMessage = \"User registered successfully\";\n          this.flashMessageType = \"success\";\n          this.$store.commit('setLoggedIn', true);\n          this.$router.push('/');\n        }\n      } catch (error) {\n        if (error.response && error.response.status == 409) {\n          this.flashMessage = \"User already exists\";\n          this.flashMessageType = \"error\";\n        } else {\n          // For andre typer feil\n          this.flashMessage = \"An error occurred. Please try again.\";\n          this.flashMessageType = \"error\";\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","username","password","timezone","flashMessage","flashMessageType","methods","register","result","$axios","post","status","$store","commit","$router","push","error","response"],"sources":["C:\\Users\\mariu\\Documents\\Kode\\Prosjekter\\melk\\lymecyclin\\src\\components\\SignUp.vue"],"sourcesContent":["<template>\r\n  <img class=\"logo\" src=\"../assets/logo.png\">\r\n  <h1>Sign Up</h1>\r\n\r\n  <div class=\"register\">\r\n    <input type=\"text\" v-model=\"username\" placeholder=\"Enter username\">\r\n    <input type=\"password\" v-model=\"password\" placeholder=\"Enter password\">\r\n    <select v-model=\"timezone\" class=\"timezone-select\">\r\n      <option disabled value=\"\">Please select your timezone</option>\r\n      <option value=\"UTC\">UTC</option>\r\n      <option value=\"Europe/Oslo\">Europe/Oslo</option>\r\n      <option value=\"America/New_York\">America/New_York</option>\r\n    </select>\r\n\r\n    <p v-if=\"flashMessage\" :class=\"`flash-message ${flashMessageType}`\">{{ flashMessage }}</p>\r\n\r\n    <button id=\"register-b\" @click=\"register\">Sign Up</button>\r\n    <button id=\"login-b\" @click=\"$router.push('/login')\">Log In</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SignUp',\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      timezone: '',\r\n      flashMessage: '',  \r\n      flashMessageType: '',  // 'success', 'error', or 'info'\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      if (!this.username || !this.password || this.timezone === '') {\r\n        this.flashMessage = \"All fields are required\";\r\n        this.flashMessageType = \"error\";\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let result = await this.$axios.post('/register', {\r\n          username: this.username,\r\n          password: this.password,\r\n          timezone: this.timezone,\r\n        });\r\n\r\n        if(result.status == 201){\r\n          this.flashMessage = \"User registered successfully\";\r\n          this.flashMessageType = \"success\";\r\n          this.$store.commit('setLoggedIn', true);\r\n          this.$router.push('/');\r\n        }\r\n      } catch (error) {\r\n        if (error.response && error.response.status == 409) {\r\n          this.flashMessage = \"User already exists\";\r\n          this.flashMessageType = \"error\";\r\n        } else {\r\n          // For andre typer feil\r\n          this.flashMessage = \"An error occurred. Please try again.\";\r\n          this.flashMessageType = \"error\";\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Din eksisterende CSS, pluss følgende: */\r\n.flash-message {\r\n  margin-top: 10px;\r\n}\r\n.success {\r\n  color: #4CAF50; /* Grønn */\r\n}\r\n.error {\r\n  color: #F44336; /* Rød */\r\n}\r\n.info {\r\n  color: #2196F3; /* Blå */\r\n}\r\n</style>\r\n"],"mappings":";AAsBA,eAAe;EACbA,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,gBAAgB,EAAE,EAAE,CAAG;IACzB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,QAAQA,CAAA,EAAG;MACf,IAAI,CAAC,IAAI,CAACN,QAAO,IAAK,CAAC,IAAI,CAACC,QAAO,IAAK,IAAI,CAACC,QAAO,KAAM,EAAE,EAAE;QAC5D,IAAI,CAACC,YAAW,GAAI,yBAAyB;QAC7C,IAAI,CAACC,gBAAe,GAAI,OAAO;QAC/B;MACF;MAEA,IAAI;QACF,IAAIG,MAAK,GAAI,MAAM,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,WAAW,EAAE;UAC/CT,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC,CAAC;QAEF,IAAGK,MAAM,CAACG,MAAK,IAAK,GAAG,EAAC;UACtB,IAAI,CAACP,YAAW,GAAI,8BAA8B;UAClD,IAAI,CAACC,gBAAe,GAAI,SAAS;UACjC,IAAI,CAACO,MAAM,CAACC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC;UACvC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;QACxB;MACF,EAAE,OAAOC,KAAK,EAAE;QACd,IAAIA,KAAK,CAACC,QAAO,IAAKD,KAAK,CAACC,QAAQ,CAACN,MAAK,IAAK,GAAG,EAAE;UAClD,IAAI,CAACP,YAAW,GAAI,qBAAqB;UACzC,IAAI,CAACC,gBAAe,GAAI,OAAO;QACjC,OAAO;UACL;UACA,IAAI,CAACD,YAAW,GAAI,sCAAsC;UAC1D,IAAI,CAACC,gBAAe,GAAI,OAAO;QACjC;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}