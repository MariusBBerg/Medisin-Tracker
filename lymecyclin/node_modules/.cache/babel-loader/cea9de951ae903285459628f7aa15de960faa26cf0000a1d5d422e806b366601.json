{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FlashMessage from './FlashMessage.vue';\nexport default {\n  name: 'SignUp',\n  components: {\n    FlashMessage // Registrer FlashMessage komponenten for bruk\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n      timezone: 'UTC',\n      flashMessage: '',\n      // Oppdatert fra errorMessage\n      flashMessageType: ''\n    };\n  },\n  methods: {\n    async register() {\n      if (!this.username || !this.password || !this.timezone) {\n        this.flashMessage = \"All fields are required\";\n        this.flashMessageType = \"error\";\n        return;\n      }\n      try {\n        let result = await this.$axios.post('/register', {\n          username: this.username,\n          password: this.password,\n          timezone: this.timezone\n        });\n        console.warn(result);\n        if (result.status == 201) {\n          this.flashMessage = \"User registered successfully\";\n          this.flashMessageType = \"success\";\n          this.$store.commit('setLoggedIn', true);\n          this.$router.push('/');\n        }\n      } catch (error) {\n        if (error.response && error.response.status == 409) {\n          this.flashMessage = \"User already exists\";\n          this.flashMessageType = \"error\";\n        } else {\n          this.flashMessage = \"An error occurred. Please try again.\";\n          this.flashMessageType = \"error\";\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["FlashMessage","name","components","data","username","password","timezone","flashMessage","flashMessageType","methods","register","result","$axios","post","console","warn","status","$store","commit","$router","push","error","response"],"sources":["C:\\Users\\mariu\\Documents\\Kode\\Prosjekter\\melk\\lymecyclin\\src\\components\\SignUp.vue"],"sourcesContent":["<template>\r\n    <img src=\"../assets/logo.png\" class=\"logo\" @click=\"$router.push('/')\" />\r\n    <h1>Sign Up</h1>\r\n  \r\n    <div class=\"register\">\r\n      <input type=\"text\" v-model=\"username\" placeholder=\"Enter username\">\r\n      <input type=\"password\" v-model=\"password\" placeholder=\"Enter password\">\r\n      <select v-model=\"timezone\" class=\"timezone-select\">\r\n        <option disabled value=\"\">Please select your timezone</option>\r\n        <option value=\"UTC\">UTC</option>\r\n        <option value=\"Europe/Oslo\">Europe/Oslo</option>\r\n        <option value=\"America/New_York\">America/New_York</option>\r\n      </select>\r\n\r\n      <FlashMessage v-if=\"flashMessage\" :message=\"flashMessage\" :type=\"flashMessageType\" />\r\n\r\n  \r\n      <button id=\"register-b\" @click=\"register\">Sign Up</button>\r\n      <button id=\"login-b\" @click=\"$router.push('/login')\">Log In</button>\r\n    </div>\r\n</template>\r\n  \r\n  <script>\r\n\r\n    import FlashMessage from './FlashMessage.vue'\r\n\r\n    export default {\r\n    name: 'SignUp',\r\n    components: {\r\n    FlashMessage // Registrer FlashMessage komponenten for bruk\r\n  },\r\n\r\n    data() {\r\n        return {\r\n        username: '',\r\n        password: '',\r\n        timezone: 'UTC',\r\n        flashMessage: '',  // Oppdatert fra errorMessage\r\n        flashMessageType: '',        };\r\n    },\r\n    methods: {\r\n        async register() {\r\n\r\n        if (!this.username || !this.password || !this.timezone) {\r\n            this.flashMessage = \"All fields are required\";\r\n            this.flashMessageType = \"error\";\r\n            return;\r\n        }\r\n\r\n        try {\r\n            let result = await this.$axios.post('/register', {\r\n            username: this.username,\r\n            password: this.password,\r\n            timezone: this.timezone,\r\n            });\r\n\r\n            console.warn(result)\r\n\r\n            if(result.status == 201){\r\n            this.flashMessage = \"User registered successfully\";\r\n            this.flashMessageType = \"success\";\r\n            this.$store.commit('setLoggedIn', true)\r\n            this.$router.push('/')\r\n\r\n\r\n            }\r\n        } catch (error) {\r\n            if (error.response && error.response.status == 409) {\r\n                this.flashMessage = \"User already exists\";\r\n                this.flashMessageType = \"error\";\r\n            }\r\n            else{\r\n                this.flashMessage = \"An error occurred. Please try again.\";\r\n                this.flashMessageType = \"error\";\r\n            }\r\n        }\r\n        },\r\n    },\r\n    };\r\n</script>\r\n  \r\n<style>\r\n.logo{\r\n    width: 100px;   \r\n}\r\n\r\n.register input{\r\n    width:300px;\r\n    height:40px;\r\n    padding-left:20px;\r\n    display:block;\r\n    margin-bottom: 30px;\r\n    margin-right: auto;\r\n    margin-left:auto;\r\n    border: 1px solid #ea5736;\r\n}\r\n\r\n.register {\r\n    display:flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n#register-b, #login-b {\r\n    display:block;\r\n}\r\n#register-b{\r\n    width: 320px;\r\n    height: 40px;\r\n    background-color: #ea5736;\r\n    border: 1px #ea5736;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n#login-b {\r\n    width: 320px;\r\n    height: 40px;\r\n    background-color: #fff;\r\n    border: 1px #ea5736;\r\n    color: #ea5736;\r\n    cursor: pointer;\r\n    margin-top: 10px;\r\n}\r\n\r\n.timezone-select {\r\n    width: 300px;\r\n    height: 40px;\r\n    padding-left: 20px;\r\n    display: block;\r\n    margin-bottom: 30px;\r\n    margin-right: auto;\r\n    margin-left: auto;\r\n    border: 1px solid #ea5736;\r\n  }\r\n.error-message {\r\n    color: red;\r\n    margin-top: 10px;\r\n  }\r\n</style>"],"mappings":";AAwBI,OAAOA,YAAW,MAAO,oBAAmB;AAE5C,eAAe;EACfC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IACZF,YAAW,CAAE;EACf,CAAC;EAECG,IAAIA,CAAA,EAAG;IACH,OAAO;MACPC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,KAAK;MACfC,YAAY,EAAE,EAAE;MAAG;MACnBC,gBAAgB,EAAE;IAAW,CAAC;EAClC,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,QAAQA,CAAA,EAAG;MAEjB,IAAI,CAAC,IAAI,CAACN,QAAO,IAAK,CAAC,IAAI,CAACC,QAAO,IAAK,CAAC,IAAI,CAACC,QAAQ,EAAE;QACpD,IAAI,CAACC,YAAW,GAAI,yBAAyB;QAC7C,IAAI,CAACC,gBAAe,GAAI,OAAO;QAC/B;MACJ;MAEA,IAAI;QACA,IAAIG,MAAK,GAAI,MAAM,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,WAAW,EAAE;UACjDT,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACf,CAAC,CAAC;QAEFQ,OAAO,CAACC,IAAI,CAACJ,MAAM;QAEnB,IAAGA,MAAM,CAACK,MAAK,IAAK,GAAG,EAAC;UACxB,IAAI,CAACT,YAAW,GAAI,8BAA8B;UAClD,IAAI,CAACC,gBAAe,GAAI,SAAS;UACjC,IAAI,CAACS,MAAM,CAACC,MAAM,CAAC,aAAa,EAAE,IAAI;UACtC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;QAGrB;MACJ,EAAE,OAAOC,KAAK,EAAE;QACZ,IAAIA,KAAK,CAACC,QAAO,IAAKD,KAAK,CAACC,QAAQ,CAACN,MAAK,IAAK,GAAG,EAAE;UAChD,IAAI,CAACT,YAAW,GAAI,qBAAqB;UACzC,IAAI,CAACC,gBAAe,GAAI,OAAO;QACnC,OACI;UACA,IAAI,CAACD,YAAW,GAAI,sCAAsC;UAC1D,IAAI,CAACC,gBAAe,GAAI,OAAO;QACnC;MACJ;IACA;EACJ;AACA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}