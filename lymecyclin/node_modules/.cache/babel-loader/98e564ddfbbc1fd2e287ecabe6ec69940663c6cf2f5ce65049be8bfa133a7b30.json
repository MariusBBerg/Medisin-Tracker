{"ast":null,"code":"import HomeView from './components/Home.vue';\nimport SignUp from './components/SignUp.vue';\nimport LogIn from './components/LogIn.vue';\nimport ProfileDash from './components/ProfileDash.vue';\nimport { createRouter, createWebHistory } from 'vue-router';\nimport store from './store.js';\nconsole.log(store);\nconst routes = [{\n  name: 'Home',\n  component: HomeView,\n  path: '/'\n}, {\n  name: 'SignUp',\n  component: SignUp,\n  path: '/sign-up',\n  meta: {\n    requiresGuest: true\n  }\n}, {\n  name: 'Login',\n  component: LogIn,\n  path: '/login',\n  meta: {\n    requiresGuest: true\n  }\n}, {\n  name: 'ProfileDash',\n  component: ProfileDash,\n  path: '/profileDash',\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  // Replace `isLoggedIn` with your own logic to check if the user is logged in\n  const isLoggedIn = store.state.isLoggedIn; // assuming you're using Vuex for state management\n\n  if (to.meta.requiresGuest && isLoggedIn) {\n    // If the user is logged in and the route requires a guest (not logged in), redirect to home page\n    next({\n      name: 'Home'\n    });\n  } else {\n    next();\n  }\n  if (to.meta.requiresAuth && !isLoggedIn) {\n    next({\n      name: 'Login'\n    });\n  }\n});\nexport default router;","map":{"version":3,"names":["HomeView","SignUp","LogIn","ProfileDash","createRouter","createWebHistory","store","console","log","routes","name","component","path","meta","requiresGuest","requiresAuth","router","history","beforeEach","to","from","next","isLoggedIn","state"],"sources":["C:/Users/mariu/Documents/Kode/Prosjekter/melk/lymecyclin/src/routers.js"],"sourcesContent":["import HomeView from './components/Home.vue';\r\nimport SignUp from './components/SignUp.vue';\r\nimport LogIn from './components/LogIn.vue';\r\nimport ProfileDash from './components/ProfileDash.vue';\r\nimport {createRouter, createWebHistory} from 'vue-router';\r\nimport store from './store.js';\r\nconsole.log(store);\r\n\r\n\r\nconst routes=[\r\n    {name:'Home',\r\n    component:HomeView,\r\n    path:'/'\r\n    },\r\n\r\n    {name:'SignUp',\r\n    component:SignUp,\r\n    path:'/sign-up',\r\n    meta:{requiresGuest:true}\r\n    },\r\n    {name:'Login',\r\n    component:LogIn,\r\n    path:'/login',\r\n    meta:{requiresGuest:true}\r\n    },\r\n    {name:'ProfileDash',\r\n    component:ProfileDash,\r\n    path:'/profileDash',\r\n    meta:{requiresAuth:true},\r\n  }\r\n\r\n];\r\n\r\nconst router = createRouter({\r\n    history:createWebHistory(),\r\n    routes,\r\n\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    // Replace `isLoggedIn` with your own logic to check if the user is logged in\r\n    const isLoggedIn = store.state.isLoggedIn; // assuming you're using Vuex for state management\r\n  \r\n    if (to.meta.requiresGuest && isLoggedIn) {\r\n      // If the user is logged in and the route requires a guest (not logged in), redirect to home page\r\n      next({ name: 'Home' });\r\n    } else {\r\n      next();\r\n    }\r\n    if(to.meta.requiresAuth && !isLoggedIn){\r\n        next({name:'Login'});\r\n    }\r\n});\r\n\r\n\r\nexport default router;"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAOC,WAAW,MAAM,8BAA8B;AACtD,SAAQC,YAAY,EAAEC,gBAAgB,QAAO,YAAY;AACzD,OAAOC,KAAK,MAAM,YAAY;AAC9BC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;AAGlB,MAAMG,MAAM,GAAC,CACT;EAACC,IAAI,EAAC,MAAM;EACZC,SAAS,EAACX,QAAQ;EAClBY,IAAI,EAAC;AACL,CAAC,EAED;EAACF,IAAI,EAAC,QAAQ;EACdC,SAAS,EAACV,MAAM;EAChBW,IAAI,EAAC,UAAU;EACfC,IAAI,EAAC;IAACC,aAAa,EAAC;EAAI;AACxB,CAAC,EACD;EAACJ,IAAI,EAAC,OAAO;EACbC,SAAS,EAACT,KAAK;EACfU,IAAI,EAAC,QAAQ;EACbC,IAAI,EAAC;IAACC,aAAa,EAAC;EAAI;AACxB,CAAC,EACD;EAACJ,IAAI,EAAC,aAAa;EACnBC,SAAS,EAACR,WAAW;EACrBS,IAAI,EAAC,cAAc;EACnBC,IAAI,EAAC;IAACE,YAAY,EAAC;EAAI;AACzB,CAAC,CAEF;AAED,MAAMC,MAAM,GAAGZ,YAAY,CAAC;EACxBa,OAAO,EAACZ,gBAAgB,CAAC,CAAC;EAC1BI;AAEJ,CAAC,CAAC;AAEFO,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC;EACA,MAAMC,UAAU,GAAGhB,KAAK,CAACiB,KAAK,CAACD,UAAU,CAAC,CAAC;;EAE3C,IAAIH,EAAE,CAACN,IAAI,CAACC,aAAa,IAAIQ,UAAU,EAAE;IACvC;IACAD,IAAI,CAAC;MAAEX,IAAI,EAAE;IAAO,CAAC,CAAC;EACxB,CAAC,MAAM;IACLW,IAAI,CAAC,CAAC;EACR;EACA,IAAGF,EAAE,CAACN,IAAI,CAACE,YAAY,IAAI,CAACO,UAAU,EAAC;IACnCD,IAAI,CAAC;MAACX,IAAI,EAAC;IAAO,CAAC,CAAC;EACxB;AACJ,CAAC,CAAC;AAGF,eAAeM,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}