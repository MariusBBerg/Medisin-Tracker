{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FlashMessage from './FlashMessage.vue';\nimport { VueFinalModal } from 'vue-final-modal';\nexport default {\n  name: 'LogIn',\n  components: {\n    FlashMessage,\n    VueFinalModal\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n      flashMessage: '',\n      // Updated from errorMessage\n      flashMessageType: '',\n      showModal: false\n    };\n  },\n  methods: {\n    async login() {\n      if (!this.username || !this.password) {\n        this.flashMessage = \"Username and password are required\";\n        this.flashMessageType = \"error\";\n        return;\n      }\n      try {\n        let result = await this.$axios.post('/login', {\n          username: this.username,\n          password: this.password\n        });\n        if (result.status == 200) {\n          console.log(\"User logged in successfully\");\n          this.$store.commit('setLoggedIn', true);\n          this.$router.push('/');\n        }\n      } catch (error) {\n        if (error.response && error.response.status == 401) {\n          this.flashMessage = \"Invalid credentials\";\n          this.flashMessageType = \"error\";\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["FlashMessage","VueFinalModal","name","components","data","username","password","flashMessage","flashMessageType","showModal","methods","login","result","$axios","post","status","console","log","$store","commit","$router","push","error","response"],"sources":["C:\\Users\\mariu\\Documents\\Kode\\Prosjekter\\melk\\lymecyclin\\src\\components\\LogIn.vue"],"sourcesContent":["<template>\r\n    <div class=\"login\">\r\n        <img src=\"../assets/logo.png\" class=\"logo\" @click=\"$router.push('/')\" />\r\n        <h1>Log In</h1>\r\n        <input type=\"text\" v-model=\"username\" placeholder=\"Username\">\r\n        <input type=\"password\" v-model=\"password\" placeholder=\"Password\">\r\n\r\n        <FlashMessage v-if=\"flashMessage\" :message=\"flashMessage\" :type=\"flashMessageType\" />\r\n\r\n        <button id=\"login-b1\" @click=\"login\">Log In</button>\r\n        <button id=\"register-b2\" @click=\"$router.push('/sign-up')\">Sign Up</button>\r\n\r\n        <button @click=\"showModal = true\">Ã…pne modal</button>\r\n        <vue-final-modal v-model=\"showModal\">\r\n            <template v-slot:default=\"{ closeModal }\">\r\n              <div>\r\n                Dette er en modal!\r\n                <button @click=\"closeModal\">Lukk modal</button>\r\n              </div>\r\n            </template>\r\n          </vue-final-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport FlashMessage from './FlashMessage.vue'\r\nimport { VueFinalModal  } from 'vue-final-modal';\r\n\r\nexport default {\r\n    name: 'LogIn',\r\n    components: {\r\n        FlashMessage,\r\n        VueFinalModal ,\r\n    },\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            flashMessage: '',  // Updated from errorMessage\r\n            flashMessageType: '',      \r\n            showModal: false,  \r\n        };\r\n    },\r\n    methods: {\r\n        async login() {\r\n            if (!this.username || !this.password) {\r\n                this.flashMessage = \"Username and password are required\";\r\n                this.flashMessageType = \"error\";\r\n                return;\r\n            }\r\n\r\n            try {\r\n                let result = await this.$axios.post('/login', {\r\n                    username: this.username,\r\n                    password: this.password,\r\n                });\r\n\r\n                if(result.status == 200){\r\n                    console.log(\"User logged in successfully\")\r\n                    this.$store.commit('setLoggedIn', true)\r\n                    this.$router.push('/')\r\n                }\r\n            } catch (error) {\r\n                if (error.response && error.response.status == 401) {\r\n                    this.flashMessage = \"Invalid credentials\";\r\n                    this.flashMessageType = \"error\";\r\n                }\r\n            }\r\n        },\r\n    },\r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.logo{\r\n    width: 100px;   \r\n}\r\n.login {\r\n    display:flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.login input{\r\n    width:300px;\r\n    height:40px;\r\n    padding-left:20px;\r\n    display:block;\r\n    margin-bottom: 30px;\r\n    margin-right: auto;\r\n    margin-left:auto;\r\n    border: 1px solid #ea5736;\r\n}\r\n\r\n#login-b1{\r\n    width: 320px;\r\n    height: 40px;\r\n    background-color: #ea5736;\r\n    border: 1px #ea5736;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n#register-b2 {\r\n    width: 320px;\r\n    height: 40px;\r\n    background-color: #fff;\r\n    border: 1px #ea5736;\r\n    color: #ea5736;\r\n    cursor: pointer;\r\n    margin-top: 10px;\r\n}\r\n\r\n</style>"],"mappings":";AA0BA,OAAOA,YAAW,MAAO,oBAAmB;AAC5C,SAASC,aAAY,QAAU,iBAAiB;AAEhD,eAAe;EACXC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IACRH,YAAY;IACZC;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAAG;MACnBC,gBAAgB,EAAE,EAAE;MACpBC,SAAS,EAAE;IACf,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,KAAKA,CAAA,EAAG;MACV,IAAI,CAAC,IAAI,CAACN,QAAO,IAAK,CAAC,IAAI,CAACC,QAAQ,EAAE;QAClC,IAAI,CAACC,YAAW,GAAI,oCAAoC;QACxD,IAAI,CAACC,gBAAe,GAAI,OAAO;QAC/B;MACJ;MAEA,IAAI;QACA,IAAII,MAAK,GAAI,MAAM,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,QAAQ,EAAE;UAC1CT,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACnB,CAAC,CAAC;QAEF,IAAGM,MAAM,CAACG,MAAK,IAAK,GAAG,EAAC;UACpBC,OAAO,CAACC,GAAG,CAAC,6BAA6B;UACzC,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,aAAa,EAAE,IAAI;UACtC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;QACzB;MACJ,EAAE,OAAOC,KAAK,EAAE;QACZ,IAAIA,KAAK,CAACC,QAAO,IAAKD,KAAK,CAACC,QAAQ,CAACR,MAAK,IAAK,GAAG,EAAE;UAChD,IAAI,CAACR,YAAW,GAAI,qBAAqB;UACzC,IAAI,CAACC,gBAAe,GAAI,OAAO;QACnC;MACJ;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}